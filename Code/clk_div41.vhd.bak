library IEEE;
use  IEEE.STD_LOGIC_1164.all;
use  IEEE.STD_LOGIC_ARITH.all;
use  IEEE.STD_LOGIC_UNSIGNED.all;

ENTITY clk_div41 IS

	PORT
	(
		clock_25Mhz				: IN	STD_LOGIC;
		clock_610KHz			: OUT	STD_LOGIC);
	
END clk_div41;

ARCHITECTURE a OF clk_div41 IS

	SIGNAL   int_clock_610KHz: STD_LOGIC;
	SIGNAL	count_610Khz: STD_LOGIC_VECTOR(4 DOWNTO 0);
	
BEGIN
	PROCESS 
	BEGIN
-- Divide by 41
		WAIT UNTIL clock_25Mhz'EVENT and clock_25Mhz = '1';
			IF count_610Khz < 40 THEN
				count_610Khz <= count_610Khz + 1;
			ELSE
				count_610Khz <= "00000";
			END IF;
			IF count_610Khz < 20 THEN
				int_clock_610KHz <= '0';
			ELSE
				int_clock_610KHz <= '1';
			END IF;	

			clock_610KHz <= int_clock_610KHz;

	END PROCESS;	
